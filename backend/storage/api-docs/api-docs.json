{
    "openapi": "3.0.0",
    "info": {
        "title": "Smart LPR API",
        "description": "Open API for Smart LPR",
        "version": "1.0.0"
    },
    "paths": {
        "/api/v1/accounts/{page}/{limit}": {
            "get": {
                "tags": [
                    "accounts"
                ],
                "summary": "Get accounts of items",
                "description": "Retrieve a accounts of items based on date range, gate, pagination, and limit",
                "operationId": "accounts",
                "parameters": [
                    {
                        "name": "page",
                        "in": "path",
                        "description": "Page number",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "limit",
                        "in": "path",
                        "description": "Limit number",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List retrieved successfully"
                    },
                    "400": {
                        "description": "Invalid input"
                    }
                }
            }
        },
        "/api/v1/accounts/{id}": {
            "get": {
                "tags": [
                    "accounts"
                ],
                "summary": "Get account by ID",
                "operationId": "92d5e52983a42663a671eadf91d4e2a3",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of account to return",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation"
                    },
                    "404": {
                        "description": "account not found"
                    }
                }
            }
        },
        "/api/login": {
            "post": {
                "tags": [
                    "login"
                ],
                "summary": "Login",
                "operationId": "34d49de46e0fc2b1c6af3db9a4e3d7f2",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "username": {
                                        "description": "Username",
                                        "type": "string",
                                        "example": "username"
                                    },
                                    "password": {
                                        "description": "Password",
                                        "type": "string",
                                        "example": "password"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login successfully"
                    },
                    "400": {
                        "description": "Invalid input"
                    }
                }
            }
        },
        "/api/v1/gates": {
            "get": {
                "tags": [
                    "gates"
                ],
                "summary": "Get list of gates",
                "description": "Returns list of gates",
                "operationId": "getGatesList",
                "responses": {
                    "200": {
                        "description": "Response Message"
                    }
                }
            },
            "post": {
                "tags": [
                    "gates"
                ],
                "summary": "Create a new gate",
                "operationId": "21698d6a4b396624197b3f7e77374e64",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "gate_name": {
                                        "description": "Gate name",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "gate_ip": {
                                        "description": "Gate IP",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "gate_port": {
                                        "description": "Gate Port",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "LoginName": {
                                        "description": "Login Name",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "LoginPassword": {
                                        "description": "Login Password",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "LoginPasswordgz": {
                                        "description": "Compressed Login Password",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "short": {
                                        "description": "I = In, O = Out",
                                        "type": "string",
                                        "example": ""
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful response with creation message"
                    }
                }
            }
        },
        "/api/v1/gates/{id}": {
            "get": {
                "tags": [
                    "gates"
                ],
                "summary": "Get gate by id",
                "operationId": "9ef9461b25752a52410bbfab6c2bfe0f",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the gate to return",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response with gate details"
                    },
                    "404": {
                        "description": "Gate not found"
                    }
                }
            },
            "delete": {
                "tags": [
                    "gates"
                ],
                "summary": "Delete gate by id",
                "operationId": "ed25b1db66318db935148283c68dbab2",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the gate to delete",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response with delete message"
                    }
                }
            }
        },
        "/api/v1/gates/update": {
            "post": {
                "tags": [
                    "gates"
                ],
                "summary": "Create a update gate",
                "operationId": "2c9e8a327f0f3e782398e5dab5e724e6",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "id": {
                                        "description": "ID of the gate to update",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "gate_name": {
                                        "description": "Gate name",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "gate_ip": {
                                        "description": "Gate IP",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "gate_port": {
                                        "description": "Gate Port",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "LoginName": {
                                        "description": "Login Name",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "LoginPassword": {
                                        "description": "Login Password",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "LoginPasswordgz": {
                                        "description": "Compressed Login Password",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "short": {
                                        "description": "I = In, O = Out",
                                        "type": "string",
                                        "example": ""
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful response with update message"
                    }
                }
            }
        },
        "/api/v1/history/{date_start}/{date_end}/{gate}/{page}/{limit}": {
            "get": {
                "tags": [
                    "History"
                ],
                "summary": "Get history of items",
                "description": "Retrieve a history of items based on date range, gate, pagination, and limit",
                "operationId": "history",
                "parameters": [
                    {
                        "name": "date_start",
                        "in": "path",
                        "description": "Start date for filtering the list",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "datetime",
                            "example": "2024-09-01 00:00:00"
                        }
                    },
                    {
                        "name": "date_end",
                        "in": "path",
                        "description": "End date for filtering the list",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "datetime",
                            "example": "2024-09-05 23:59:59"
                        }
                    },
                    {
                        "name": "gate",
                        "in": "path",
                        "description": "Gate number for filtering the list",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": "66d9965ec312805ebe04d8bd"
                        }
                    },
                    {
                        "name": "page",
                        "in": "path",
                        "description": "Page number for pagination",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "limit",
                        "in": "path",
                        "description": "Number of items per page",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 10
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List retrieved successfully"
                    },
                    "400": {
                        "description": "Invalid input"
                    }
                }
            }
        },
        "/api/v1/history": {
            "post": {
                "tags": [
                    "History"
                ],
                "summary": "Store a newly created history in storage",
                "operationId": "d276b0f967aaec24c676e1290f07e897",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "lpr": {
                                        "description": "License plate recognition (LPR) value",
                                        "type": "string",
                                        "example": "ABC1234"
                                    },
                                    "type": {
                                        "description": "Type of the list entry",
                                        "type": "string",
                                        "example": "Vehicle"
                                    },
                                    "traffic_type": {
                                        "description": "Type of traffic (e.g., 'Entry' or 'Exit')",
                                        "type": "string",
                                        "example": "Entry"
                                    },
                                    "image": {
                                        "description": "Image file associated with the entry",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "gate_id": {
                                        "description": "ID of the gate where the traffic occurred",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "timestamp": {
                                        "description": "Timestamp when the entry was recorded",
                                        "type": "string",
                                        "format": "date-time",
                                        "example": "2024-09-04T10:00:00Z"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "History created successfully"
                    },
                    "400": {
                        "description": "Invalid input"
                    }
                }
            }
        },
        "/api/v1/history/{id}": {
            "get": {
                "tags": [
                    "History"
                ],
                "summary": "Display the specified history",
                "operationId": "c9c548a03de9b70d773d28eb6c0dd6f1",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the history to retrieve",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": ""
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "History retrieved successfully"
                    },
                    "400": {
                        "description": "Invalid input"
                    }
                }
            }
        },
        "/api/v1/lines": {
            "get": {
                "tags": [
                    "lines"
                ],
                "summary": "Get all lines",
                "operationId": "1cc60588c8def4a27f1b57a1b57a9993",
                "responses": {
                    "200": {
                        "description": "List all lines"
                    }
                }
            },
            "post": {
                "tags": [
                    "lines"
                ],
                "summary": "Create a new line",
                "operationId": "18a246e6832859aff9704f8ccbe6ac86",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "line_token": {
                                        "description": "Line token",
                                        "type": "string",
                                        "example": "line_token"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Create a new line"
                    }
                }
            }
        },
        "/api/v1/lines/{id}": {
            "get": {
                "tags": [
                    "lines"
                ],
                "summary": "Get line by id",
                "operationId": "ba744fbf948dd01c2f6a2072ba78f903",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the line",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Get line by id"
                    }
                }
            },
            "delete": {
                "tags": [
                    "lines"
                ],
                "summary": "Delete line by id",
                "operationId": "2f80184749a2ff5aed19000555fe0308",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the line",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Delete line by id"
                    }
                }
            }
        },
        "/api/v1/lines/update": {
            "post": {
                "tags": [
                    "lines"
                ],
                "summary": "Update line by id",
                "operationId": "b20d6c15b4af91544042349ec6e6e8e4",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "line_token": {
                                        "description": "Line token",
                                        "type": "string",
                                        "example": "line_token"
                                    },
                                    "id": {
                                        "description": "ID of the line",
                                        "type": "string",
                                        "example": "id"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Update line by id"
                    }
                }
            }
        },
        "/api/v1/type_list": {
            "get": {
                "tags": [
                    "list_types"
                ],
                "summary": "Get list of list types",
                "description": "Returns list of list types",
                "operationId": "fca234d9f6819eea407a631f90165e2e",
                "responses": {
                    "200": {
                        "description": "Response Message"
                    }
                }
            },
            "post": {
                "tags": [
                    "list_types"
                ],
                "summary": "Create a new list type",
                "operationId": "6acf68bd31d3926dbf67bdafa3d7aeb3",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "type_name": {
                                        "description": "List type name",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "send_line": {
                                        "description": "Send line",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "open_gate": {
                                        "description": "Open gate",
                                        "type": "string",
                                        "example": ""
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Response Message"
                    }
                }
            }
        },
        "/api/v1/type_list/{id}": {
            "get": {
                "tags": [
                    "list_types"
                ],
                "summary": "Get list type by id",
                "description": "Returns list type by id",
                "operationId": "80a57a93cf6dd0e8a79194f3ae8857c5",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the list type",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Response Message"
                    }
                }
            }
        },
        "/api/v1/type_list/update": {
            "post": {
                "tags": [
                    "list_types"
                ],
                "summary": "Create a new list type",
                "operationId": "6c1a0723888c464b21b486a8825f26ec",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "id": {
                                        "description": "List type name",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "type_name": {
                                        "description": "List type name",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "send_line": {
                                        "description": "Send line",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "open_gate": {
                                        "description": "Open gate",
                                        "type": "string",
                                        "example": ""
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Response Message"
                    }
                }
            }
        },
        "/api/v1/list/{page}/{limit}": {
            "get": {
                "tags": [
                    "Lists"
                ],
                "summary": "Get history of items",
                "description": "Retrieve a list of items based on date range, gate, pagination, and limit",
                "operationId": "index",
                "parameters": [
                    {
                        "name": "page",
                        "in": "path",
                        "description": "Page number for pagination",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "limit",
                        "in": "path",
                        "description": "Number of items per page",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 10
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List retrieved successfully"
                    },
                    "400": {
                        "description": "Invalid input"
                    }
                }
            }
        },
        "/api/v1/list": {
            "post": {
                "tags": [
                    "Lists"
                ],
                "summary": "Create a new list with dynamic fields",
                "operationId": "createLists",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "fullname": {
                                        "description": "Full name of the person",
                                        "type": "string",
                                        "example": "John Doe"
                                    },
                                    "lpr": {
                                        "description": "License plate number",
                                        "type": "string",
                                        "example": "ABC123"
                                    },
                                    "note": {
                                        "description": "Additional notes",
                                        "type": "string",
                                        "example": "Some notes"
                                    },
                                    "type_list_id": {
                                        "description": "List type id",
                                        "type": "string",
                                        "example": "123"
                                    },
                                    "start_date": {
                                        "description": "Start date",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-09-01"
                                    },
                                    "end_date": {
                                        "description": "End date",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-09-30"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "List created successfully"
                    },
                    "400": {
                        "description": "Invalid input"
                    }
                }
            }
        },
        "/api/v1/list/{id}": {
            "get": {
                "tags": [
                    "Lists"
                ],
                "summary": "Get list of lists",
                "description": "Returns list of lists",
                "operationId": "getListsById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "The ID of the list to be retrieved",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Response Message"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Lists"
                ],
                "summary": "Delete a list",
                "description": "Delete a list by its ID",
                "operationId": "deleteLists",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "The ID of the list to be deleted",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List deleted successfully"
                    },
                    "400": {
                        "description": "Invalid input"
                    },
                    "404": {
                        "description": "List not found"
                    }
                }
            }
        },
        "/api/v1/list/update": {
            "post": {
                "tags": [
                    "Lists"
                ],
                "summary": "Create a new list with dynamic fields",
                "operationId": "updateLists",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "id": {
                                        "description": "ID of the list",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "fullname": {
                                        "description": "Full name of the person",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "lpr": {
                                        "description": "License plate number",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "note": {
                                        "description": "Additional notes",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "type_list_id": {
                                        "description": "List type id",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "start_date": {
                                        "description": "Start date",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "end_date": {
                                        "description": "end date",
                                        "type": "string",
                                        "example": ""
                                    }
                                },
                                "type": "object",
                                "additionalProperties": {
                                    "description": "Any additional fields provided dynamically",
                                    "type": "string"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "List created successfully"
                    },
                    "400": {
                        "description": "Invalid input"
                    }
                }
            }
        },
        "/api/v1/webhook": {
            "get": {
                "tags": [
                    "webhook"
                ],
                "summary": "Get all webhooks",
                "operationId": "f13c7aa9ea14174035aa4f72459c0ecd",
                "responses": {
                    "200": {
                        "description": "List all webhooks"
                    }
                }
            },
            "post": {
                "tags": [
                    "webhook"
                ],
                "summary": "Retrieve the specified webhook using form data",
                "operationId": "97f3d31ca0266652bb539a2bab609c8f",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "webhook": {
                                        "description": "ID of the history to retrieve",
                                        "type": "string",
                                        "example": ""
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Retrieve the specified webhook"
                    },
                    "400": {
                        "description": "webhook not found"
                    }
                }
            }
        },
        "/api/v1/webhook/update": {
            "post": {
                "tags": [
                    "webhook"
                ],
                "summary": "Update the specified webhook using form data",
                "operationId": "2605b5212b508d657eda143299413f7a",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "webhook": {
                                        "description": "Webhook URL to update",
                                        "type": "string",
                                        "example": ""
                                    },
                                    "id": {
                                        "description": "ID of the webhook to update",
                                        "type": "string",
                                        "example": ""
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Webhook updated successfully"
                    },
                    "400": {
                        "description": "Invalid input"
                    }
                }
            }
        },
        "/api/v1/webhook/{id}": {
            "delete": {
                "tags": [
                    "webhook"
                ],
                "summary": "Delete the specified webhook",
                "operationId": "fafcfff6182492535257d1e40cd2f5d3",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the webhook to delete",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "1a2b3c4d"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Webhook deleted successfully"
                    },
                    "400": {
                        "description": "Invalid input"
                    },
                    "404": {
                        "description": "Webhook not found"
                    }
                }
            }
        }
    },
    "components": {
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "description": "JWT Authorization header using the Bearer scheme.",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    },
    "tags": [
        {
            "name": "accounts",
            "description": "accounts"
        },
        {
            "name": "login",
            "description": "login"
        },
        {
            "name": "gates",
            "description": "gates"
        },
        {
            "name": "History",
            "description": "History"
        },
        {
            "name": "lines",
            "description": "lines"
        },
        {
            "name": "list_types",
            "description": "list_types"
        },
        {
            "name": "Lists",
            "description": "Lists"
        },
        {
            "name": "webhook",
            "description": "webhook"
        }
    ],
    "security": [
        {
            "bearerAuth": []
        }
    ]
}